<!DOCTYPE html>
<html lang="en">

<head>
	<title>Milky Way Medium</title>
	
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	
	<!-- Base stylesheet for all pages -->
	<link rel="stylesheet" type="text/css" href="components/stylesheets/index.css" />
	
	<!-- Site logo browser icon (.ico) -->
	<link rel="icon" href="components/images/favicon.ico">
	
</head>



<body>
	<!-- Navigation bar -->
	<div class="navBar">
	
		<!-- Left portion of navigation (logo and site title) -->
		<a href="./">
			<img src="components/images/animated.gif">
			<div class="navBarInnerLeft"><div id="small">MIL<span style="letter-spacing: 2px;">KY</span><span style="letter-spacing: 1px;"> </span><span style="letter-spacing: -4px;">WAY</span><br></div>MEDIUM</div>
			</a>
		
		<!-- Right portion of navigation (page links) -->
		<div id="navRight" class="navBarInnerRight">
			<a href="login/">LOGIN</a>
			<a href="register/">CREATE &nbsp;ACCOUNT</a>
			<a href="about/">ABOUT</a>
		</div>
		
	</div>
	<br><br><br><br><br><br>
	
	<script type="module">
	import { getAuth, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/9.6.7/firebase-auth.js';

	const auth = getAuth();
	onAuthStateChanged(auth, (user) => {
		if (user) {
			// User is signed in, see docs for a list of available properties
			// https://firebase.google.com/docs/reference/js/firebase.User
			const uid = user.uid;
			console.log('User logged in: ', user);
			const navRight = document.getElementById('navRight');
			navRight.innerHTML = `<a id="logout" href=".">LOGOUT</a><a href="../about/">ABOUT</a>`;
			
			// Logout
			const logout = document.getElementById("logout");
			logout.addEventListener('click', (e) => {
				e.preventDefault();
				console.log('User logged out');
				signOut(auth).then();
			});
		}
		else {
			console.log('User not logged in');
		}
	});
		
	</script>
	
	
	<!-- Block feed -->
	<div class="container" id="container">
	
		<script src="components/scripts/post.js"></script>
		
	</div>
	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
	
	
</body>

</html>


